<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>sql_tutorial | TheOne的私人领地</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
    <link rel="icon" href="https://avatars2.githubusercontent.com/u/3304943?v=3&s=460">
  

  <link rel="stylesheet" href="/css/font-awesome.css" type="text/css">
  <link rel="stylesheet" href="/css/pure-min.css" type="text/css">
  <link rel="stylesheet" href="/css/biture.css" type="text/css">
  <!--[if lt IE 9]><script src="/package/fancybox/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header">
    <div class="wrap">
  <div class="inner">
    <a class="brand" href="/">TheOne的私人领地</a>
    <a id="menu-toggle" href="#"><i class="fa fa-bars"></i></a>
<ul class="nav-menu">


    <li><a href="/">home</a></li>



  <li><a href="#">dropdown menu</a>
    <ul class="sub-menu">

      <li><a href="//www.google.com/">google</a></li>

    </ul>
  </li>


</ul>

<ul class="nav-menu ext-menu">


    <li><a href="//github.com/wzktravel/">github</a></li>


  <li><a class="various" href="#fbox-tagcloud">tags</a></li>
</ul>
</div>

  </div>
</div>

<div class="tagcloud" id="fbox-tagcloud" style="margin:10px; display:none; overflow: hidden"><a href="/tags/HelloWorld/" style="font-size: 36px;">HelloWorld</a> <a href="/tags/git/" style="font-size: 14px;">git</a> <a href="/tags/hexo/" style="font-size: 14px;">hexo</a> <a href="/tags/latex/" style="font-size: 14px;">latex</a> <a href="/tags/markdown/" style="font-size: 14px;">markdown</a> <a href="/tags/sql/" style="font-size: 14px;">sql</a> <a href="/tags/svn/" style="font-size: 14px;">svn</a></div>

  </header>
  <div id="main-content" class="wrap">
  <div class="inner">
    <article class="post">
  <div class="pure-g">

    <!-- article: meta -->
    <div class="pure-u-2-24 article-meta">
      <div class="date"><time datetime="2015-09-14T03:43:25.000Z">
        <div class="day">14</div>
        <div class="month">Sep 2015</div>
      </time></div>
      <div class="article-tags">
        
  
    <a href='/tags/sql/' class='pure-button pull-right' style='margin:3px;'>sql</a>
  


      </div>
    </div>


    <!-- article: main -->
    <div class="pure-u-19-24">
      <header><div class="article-title">
        
  
    <h1 class="title">sql_tutorial</h1>
  

      </div></header>
      <div class="article-entry">
        
          <p>这是一篇sql基础教程，不断更新以备查看</p>
<a id="more"></a>
<h2 id="select_语句">select 语句</h2><ol>
<li>SQL 大小写不敏感 </li>
</ol>
<ul>
<li>select distinct * from tables;</li>
<li>text - ‘’</li>
<li>num - </li>
</ul>
<h2 id="select_top_/_select_limit">select top / select limit</h2><h2 id="where_语句">where 语句</h2><ul>
<li>=    </li>
<li>&lt;&gt;</li>
<li><blockquote>
</blockquote>
</li>
<li>&lt;    </li>
<li><blockquote>
<p>=</p>
</blockquote>
</li>
<li>&lt;=</li>
<li>BETWEEN</li>
<li>LIKE</li>
<li>IN  </li>
</ul>
<h2 id="and_/_or_语句">and / or 语句</h2><h2 id="order_by_关键字">order by 关键字</h2><p>用来对结果集排序, sort the result-set by one or more columns.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> column_name, column_name</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> column_name <span class="keyword">ASC</span>|<span class="keyword">DESC</span>, column_name <span class="keyword">ASC</span>|<span class="keyword">DESC</span>;</span></span><br><span class="line">!default ASC</span><br></pre></td></tr></table></figure>
<h2 id="Insert_into_语句">Insert into 语句</h2><p>可指定列，未指定的为默认值，自增不需要指定<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">Insert</span> <span class="keyword">into</span> table_name(column1, ...)  </span><br><span class="line"><span class="keyword">values</span>(value1, ...);</span></span><br></pre></td></tr></table></figure></p>
<p>##update 语句<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">update</span> table_name </span><br><span class="line"><span class="keyword">set</span> column_name = <span class="string">'values'</span>, column_name1 = <span class="string">'value1'</span> </span><br><span class="line"><span class="keyword">where</span> ...;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="delete_语句">delete 语句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">table</span> </span><br><span class="line"><span class="keyword">where</span> column_name = value1;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="http://www.w3schools.com/sql/sql_injection.asp" target="_blank" rel="external">sql 注入</a></p>
</blockquote>
<h2 id="like_操作符">like 操作符</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> column_name </span><br><span class="line"><span class="keyword">from</span> table_name </span><br><span class="line"><span class="keyword">where</span> column_name <span class="keyword">not</span> <span class="keyword">like</span> pattern;</span></span><br></pre></td></tr></table></figure>
<h3 id="pattern_中的语法">pattern 中的语法</h3><table>
<thead>
<tr>
<th>通配符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>%</td>
<td>0 或 多</td>
</tr>
<tr>
<td>_</td>
<td>单字符</td>
</tr>
<tr>
<td>[charlist]</td>
<td>字符集</td>
</tr>
<tr>
<td>[^charlist] [!charlist]</td>
<td>非</td>
</tr>
</tbody>
</table>
<h2 id="in_语句">in 语句</h2><p>用于在 where 中指定多个可能的值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> column_name </span><br><span class="line"><span class="keyword">from</span> table_name </span><br><span class="line"><span class="keyword">where</span> column_name <span class="keyword">in</span> (value1, value2, value3...);</span></span><br></pre></td></tr></table></figure></p>
<h2 id="betweetn_语句">betweetn 语句</h2><p>对于 value 的值 在一个范围中： numbners, text, dates.<br>不同数据库可能会有不同的结果<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> column_name </span><br><span class="line"><span class="keyword">from</span> table_name </span><br><span class="line"><span class="keyword">where</span> column_name <span class="keyword">between</span> value1 <span class="keyword">and</span> value2</span></span><br></pre></td></tr></table></figure></p>
<h2 id="sql_别名">sql 别名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> column_name <span class="keyword">as</span> alias_name </span><br><span class="line"><span class="keyword">from</span> table_name;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">select</span> column_name </span><br><span class="line"><span class="keyword">from</span> table_name <span class="keyword">as</span> alias_name;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> CustomerName <span class="keyword">AS</span> Customer, ContactName <span class="keyword">AS</span> [Contact Person]</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span></span><br><span class="line"></span><br><span class="line">! 列名有空则 则要使用 [] 或者 ""</span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> CustomerName, Address+<span class="string">', '</span>+City+<span class="string">', '</span>+PostalCode+<span class="string">', '</span>+Country <span class="keyword">AS</span> Address</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> CustomerName, <span class="keyword">CONCAT</span>(Address,<span class="string">', '</span>,City,<span class="string">', '</span>,PostalCode,<span class="string">', '</span>,Country) <span class="keyword">AS</span> Address</span><br><span class="line"><span class="keyword">FROM</span> Customers;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> o.OrderID, o.OrderDate, <span class="keyword">c</span>.CustomerName</span><br><span class="line"><span class="keyword">FROM</span> Customers <span class="keyword">AS</span> <span class="keyword">c</span>, Orders <span class="keyword">AS</span> o</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">c</span>.CustomerName=<span class="string">"Around the Horn"</span> <span class="keyword">AND</span> <span class="keyword">c</span>.CustomerID=o.CustomerID;</span></span><br></pre></td></tr></table></figure>
<h2 id="join">join</h2><p>返回符合条件的所有表格<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> Orders.OrderID, Customers.CustomerName, Orders.OrderDate</span><br><span class="line"><span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Customers</span><br><span class="line"><span class="keyword">ON</span> Orders.CustomerID=Customers.CustomerID;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>INNER JOIN: 等值连接，Returns all rows when there is at least one match in BOTH tables</li>
<li>LEFT JOIN: 返回左表所有和右表等值的，Return all rows from the left table, and the matched rows from the right table</li>
<li>RIGHT JOIN: 返回右表所有和左表等值的，Return all rows from the right table, and the matched rows from the left table</li>
<li>FULL JOIN: Return all rows when there is a match in ONE of the tables</li>
</ul>
<h2 id="union">union</h2><p>融合两个select语句的结果集，需要是同构的（类型相似）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table2;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">UNION</span> ALL</span><br><span class="line"><span class="keyword">SELECT</span> column_name(s) <span class="keyword">FROM</span> table2;</span></span><br></pre></td></tr></table></figure>
<h2 id="select_into">select into</h2><p>直接将结果集插入表中<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">INTO</span> newtable [<span class="keyword">IN</span> externaldb]</span><br><span class="line"><span class="keyword">FROM</span> table1;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">INTO</span> newtable [<span class="keyword">IN</span> externaldb]</span><br><span class="line"><span class="keyword">FROM</span> table1;</span></span><br><span class="line"></span><br><span class="line">!<span class="comment">-- mysql 不支持</span></span><br><span class="line">crete table table2( <span class="operator"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">tables</span> <span class="keyword">where</span> <span class="number">1</span> = <span class="number">0</span>);</span></span><br></pre></td></tr></table></figure></p>
<h2 id="insert_into_select">insert into select</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table2</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table1;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table2</span><br><span class="line">(column_name(s))</span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table1;</span></span><br></pre></td></tr></table></figure>
<h2 id="create_database">create database</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">create</span> <span class="keyword">database</span> my_db;</span></span><br></pre></td></tr></table></figure>
<h2 id="create_table">create table</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line">(</span><br><span class="line">column_name1 data_type(<span class="keyword">size</span>),</span><br><span class="line">column_name2 data_type(<span class="keyword">size</span>),</span><br><span class="line">column_name3 data_type(<span class="keyword">size</span>),</span><br><span class="line">....</span><br><span class="line">);</span></span><br></pre></td></tr></table></figure>
<h2 id="sql_constraints"><a href="http://www.w3schools.com/sql/sql_constraints.asp" target="_blank" rel="external">sql constraints</a></h2><h3 id="not_null">not null</h3><h3 id="unique"><a href="http://www.w3schools.com/sql/sql_unique.asp" target="_blank" rel="external">unique</a></h3><h3 id="primary_key">primary key</h3><h3 id="foreign_key">foreign key</h3><h3 id="check">check</h3><h3 id="default">default</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line">(</span><br><span class="line">P_Id <span class="built_in">int</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">LastName <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">FirstName <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">Address <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">City <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="string">'Sandnes'</span></span><br><span class="line">)</span></span><br></pre></td></tr></table></figure>
<h2 id="index操作">index操作</h2><h3 id="create_index">create index</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> index_name</span><br><span class="line"><span class="keyword">ON</span> table_name (column_name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> <span class="keyword">INDEX</span> index_name</span><br><span class="line"><span class="keyword">ON</span> table_name (column_name)</span></span><br></pre></td></tr></table></figure>
<h2 id="drop_操作">drop 操作</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">DROP</span> <span class="keyword">INDEX</span> index_name</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> database_name</span><br><span class="line"></span><br><span class="line">!<span class="comment">-- empty records of a table</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> table_name</span></span><br></pre></td></tr></table></figure>
<h2 id="alter_table">alter table</h2><p>mode: add, delete, modify<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">ADD</span> column_name datatype</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> column_name</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name</span><br><span class="line"><span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> column_name datatype</span></span><br></pre></td></tr></table></figure></p>
<h2 id="auto_increment">auto increment</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Persons</span><br><span class="line">(</span><br><span class="line"><span class="keyword">ID</span> <span class="built_in">int</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">LastName <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">FirstName <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">Address <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">City <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (<span class="keyword">ID</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Persons AUTO_INCREMENT=<span class="number">100</span></span></span><br></pre></td></tr></table></figure>
<h2 id="views">views</h2><p>视图：虚拟的表，<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> view_name <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> condition</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> view_name;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> view_name</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> <span class="keyword">REPLACE</span> <span class="keyword">VIEW</span> view_name <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> condition</span></span><br></pre></td></tr></table></figure></p>
<h2 id="date_functions"><a href="http://www.w3schools.com/sql/sql_dates.asp" target="_blank" rel="external">date_functions</a></h2><h2 id="null_function">null function</h2><p>对于null值的属性，<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> ProductName,UnitPrice*(UnitsInStock+<span class="keyword">IFNULL</span>(UnitsOnOrder,<span class="number">0</span>))</span><br><span class="line"><span class="keyword">FROM</span> Products</span><br><span class="line"><span class="keyword">or</span> we can <span class="keyword">use</span> the <span class="keyword">COALESCE</span>() <span class="keyword">function</span>, <span class="keyword">like</span> this:</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ProductName,UnitPrice*(UnitsInStock+<span class="keyword">COALESCE</span>(UnitsOnOrder,<span class="number">0</span>))</span><br><span class="line"><span class="keyword">FROM</span> Products</span></span><br></pre></td></tr></table></figure></p>
<h2 id="data_types"><a href="http://www.w3schools.com/sql/sql_datatypes_general.asp" target="_blank" rel="external">data types</a></h2><h2 id="db_datatypes"><a href="http://www.w3schools.com/sql/sql_datatypes.asp" target="_blank" rel="external">db datatypes</a></h2><h1 id="SQL_functions">SQL functions</h1><h2 id="聚合函数_Agregation_functions">聚合函数 Agregation functions</h2><h3 id="AVG">AVG</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">avg</span>(column_name) <span class="keyword">from</span> table_name;</span></span><br></pre></td></tr></table></figure>
<h3 id="count">count</h3><p>返回行数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">count</span>(column_name) <span class="keyword">from</span> table_name;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">count</span>(<span class="keyword">distinct</span> column_name) <span class="keyword">from</span> table_name;</span></span><br></pre></td></tr></table></figure>
<h3 id="max_/_min">max / min</h3><p>最大值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">max</span>(column_name) <span class="keyword">from</span> table_name;</span></span><br><span class="line"></span><br><span class="line"><span class="operator"><span class="keyword">select</span> <span class="keyword">min</span>(column_name) <span class="keyword">from</span> table_name;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="sme">sme</h3><p>求和<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> sume(column_name) <span class="keyword">from</span> table_name;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="group_by">group by</h3><p>和聚合函数一起用，将结果集按照列聚合</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span> column_name, aggregate_function(column_name) </span><br><span class="line"><span class="keyword">from</span> table_name </span><br><span class="line"><span class="keyword">where</span> column_name <span class="keyword">operator</span> <span class="keyword">value</span> </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> column_name;</span></span><br></pre></td></tr></table></figure>
<h3 id="having">having</h3><p><code>where</code>语句不支持聚合函数，用having<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> column_name, aggregate_function(column_name)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> column_name <span class="keyword">operator</span> <span class="keyword">value</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> column_name</span><br><span class="line"><span class="keyword">HAVING</span> aggregate_function(column_name) <span class="keyword">operator</span> <span class="keyword">value</span>;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="标称函数_Scala_functions">标称函数 Scala functions</h2><h3 id="ucase_/_lcase">ucase / lcase</h3><p>转化为大小写</p>
<h3 id="mid">mid</h3><p>字符串截取<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> <span class="keyword">MID</span>(column_name,<span class="keyword">start</span>[,<span class="keyword">length</span>]) <span class="keyword">AS</span> some_name <span class="keyword">FROM</span> table_name;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="len">len</h3><p>字符串长度<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> <span class="keyword">LEN</span>(column_name) <span class="keyword">FROM</span> table_name;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="round">round</h3><p>对数字类型四舍五入<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> <span class="keyword">ROUND</span>(column_name,decimals) <span class="keyword">FROM</span> table_name;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="format">format</h3><p>格式化结果<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> ProductName, Price, <span class="keyword">FORMAT</span>(<span class="keyword">Now</span>(),<span class="string">'YYYY-MM-DD'</span>) <span class="keyword">AS</span> PerDate</span><br><span class="line"><span class="keyword">FROM</span> Products;</span></span><br></pre></td></tr></table></figure></p>

        
      </div>
      
      <footer><div class="article-comment">
        
      </div></footer>
      
    </div>

    <!-- article: toc -->
    
    <aside class="pure-u-3-24 article-toc">
      <div class="article-toc-inner">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#select_语句"><span class="toc-number">1.</span> <span class="toc-text">select 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#select_top_/_select_limit"><span class="toc-number">2.</span> <span class="toc-text">select top / select limit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where_语句"><span class="toc-number">3.</span> <span class="toc-text">where 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#and_/_or_语句"><span class="toc-number">4.</span> <span class="toc-text">and / or 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#order_by_关键字"><span class="toc-number">5.</span> <span class="toc-text">order by 关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Insert_into_语句"><span class="toc-number">6.</span> <span class="toc-text">Insert into 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#delete_语句"><span class="toc-number">7.</span> <span class="toc-text">delete 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#like_操作符"><span class="toc-number">8.</span> <span class="toc-text">like 操作符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pattern_中的语法"><span class="toc-number">8.1.</span> <span class="toc-text">pattern 中的语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#in_语句"><span class="toc-number">9.</span> <span class="toc-text">in 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#betweetn_语句"><span class="toc-number">10.</span> <span class="toc-text">betweetn 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql_别名"><span class="toc-number">11.</span> <span class="toc-text">sql 别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#join"><span class="toc-number">12.</span> <span class="toc-text">join</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union"><span class="toc-number">13.</span> <span class="toc-text">union</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#select_into"><span class="toc-number">14.</span> <span class="toc-text">select into</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#insert_into_select"><span class="toc-number">15.</span> <span class="toc-text">insert into select</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#create_database"><span class="toc-number">16.</span> <span class="toc-text">create database</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#create_table"><span class="toc-number">17.</span> <span class="toc-text">create table</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql_constraints"><span class="toc-number">18.</span> <span class="toc-text">sql constraints</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#not_null"><span class="toc-number">18.1.</span> <span class="toc-text">not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unique"><span class="toc-number">18.2.</span> <span class="toc-text">unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#primary_key"><span class="toc-number">18.3.</span> <span class="toc-text">primary key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#foreign_key"><span class="toc-number">18.4.</span> <span class="toc-text">foreign key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#check"><span class="toc-number">18.5.</span> <span class="toc-text">check</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#default"><span class="toc-number">18.6.</span> <span class="toc-text">default</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#index操作"><span class="toc-number">19.</span> <span class="toc-text">index操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#create_index"><span class="toc-number">19.1.</span> <span class="toc-text">create index</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#drop_操作"><span class="toc-number">20.</span> <span class="toc-text">drop 操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#alter_table"><span class="toc-number">21.</span> <span class="toc-text">alter table</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#auto_increment"><span class="toc-number">22.</span> <span class="toc-text">auto increment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#views"><span class="toc-number">23.</span> <span class="toc-text">views</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#date_functions"><span class="toc-number">24.</span> <span class="toc-text">date_functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null_function"><span class="toc-number">25.</span> <span class="toc-text">null function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#data_types"><span class="toc-number">26.</span> <span class="toc-text">data types</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#db_datatypes"><span class="toc-number">27.</span> <span class="toc-text">db datatypes</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL_functions"><span class="toc-number"></span> <span class="toc-text">SQL functions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#聚合函数_Agregation_functions"><span class="toc-number">1.</span> <span class="toc-text">聚合函数 Agregation functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AVG"><span class="toc-number">1.1.</span> <span class="toc-text">AVG</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#count"><span class="toc-number">1.2.</span> <span class="toc-text">count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max_/_min"><span class="toc-number">1.3.</span> <span class="toc-text">max / min</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sme"><span class="toc-number">1.4.</span> <span class="toc-text">sme</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group_by"><span class="toc-number">1.5.</span> <span class="toc-text">group by</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#having"><span class="toc-number">1.6.</span> <span class="toc-text">having</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标称函数_Scala_functions"><span class="toc-number">2.</span> <span class="toc-text">标称函数 Scala functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ucase_/_lcase"><span class="toc-number">2.1.</span> <span class="toc-text">ucase / lcase</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mid"><span class="toc-number">2.2.</span> <span class="toc-text">mid</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#len"><span class="toc-number">2.3.</span> <span class="toc-text">len</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#round"><span class="toc-number">2.4.</span> <span class="toc-text">round</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#format"><span class="toc-number">2.5.</span> <span class="toc-text">format</span></a></li></ol></li></ol>
      </div>
    </aside>
    
  </div>
</article>

  </div>
  </div>
  <footer id="footer">
    <div class="wrap">
  <div class="inner" style="text-align: center">
    
    &copy; 2015 <a class="copyright" target="_blank" href="http://yoursite.com">TheOne</a>
    
  </div>
</div>

  </footer>
<!-- Le javascript -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="/package/fancybox/jquery-1.11.0.min.js"></script>


<!-- Responsive menu -->
<script>
$(document).ready(function() {
  $("#menu-toggle").click(function(event) {
    event.preventDefault();
    if ($(this).hasClass("isShow")) {
      $("#header").css({position: "fixed"});
      $("ul.nav-menu").hide();
      $(this).removeClass("isShow");
    } else {
      $("#header").css({position: "static"});
      $("ul.nav-menu").show();
      $("html, body").scrollTop(0);
      $(this).addClass("isShow");
    }
    return false;
  });

  $(window).resize(function() {
    if ($(window).width() > 700) {
      $("ul.nav-menu").removeAttr('style');
    }
  });

});
</script>






<link rel="stylesheet" href="/package/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="/package/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<script type="text/javascript">
(function($){
  $(".fancybox").fancybox();
  $(".various").fancybox({
    maxWidth  : 800,
    maxHeight : 600,
    fitToView : false,
    width   : '70%',
    height    : '70%',
    autoSize  : true,
    closeClick  : false,
    openEffect  : 'none',
    closeEffect : 'none'
  });
})(jQuery);
</script>


</body>
</html>
